[{"path":"index.html","id":"session-info","chapter":"Session info","heading":"Session info","text":"","code":"R version 4.0.3 (2020-10-10)\nRStudio version 1.4.1106\nWindows 10 x64##  package   * version date       lib source        \n##  bookdown    0.24    2021-09-02 [1] CRAN (R 4.0.5)\n##  broom       0.7.6   2021-04-05 [1] CRAN (R 4.0.5)\n##  bslib       0.2.5.1 2021-05-18 [1] CRAN (R 4.0.3)\n##  downlit     0.2.1   2020-11-04 [1] CRAN (R 4.0.5)\n##  dplyr       1.0.5   2021-03-05 [1] CRAN (R 4.0.4)\n##  ggplot2     3.3.3   2020-12-30 [1] CRAN (R 4.0.4)\n##  knitr       1.31    2021-01-27 [1] CRAN (R 4.0.4)\n##  rmarkdown   2.9     2021-06-15 [1] CRAN (R 4.0.5)\n##  tibble      3.1.0   2021-02-25 [1] CRAN (R 4.0.4)\n## \n## [1] C:/Users/Adam/Documents/R/win-library/4.0\n## [2] C:/Program Files/R/R-4.0.3/library"},{"path":"lab-1-september-15.html","id":"lab-1-september-15","chapter":"1 Lab 1 â€” September 15","heading":"1 Lab 1 â€” September 15","text":"","code":""},{"path":"lab-1-september-15.html","id":"review-of-r-basics","chapter":"1 Lab 1 â€” September 15","heading":"1.1 Review of R basics","text":"R name programming language. RStudio name integrated development\nenvironment (IDE). application running RStudio.already , R can downloaded .\nRStudio (desktop version) can downloaded\n. R installed \ninstalling RStudio.already R installed device, ensure version >= 4.0.0. Otherwise,\nuse links install latest version.","code":""},{"path":"lab-1-september-15.html","id":"configure-rstudio-settings","chapter":"1 Lab 1 â€” September 15","heading":"1.1.1 Configure RStudio settings","text":"settings can found Tools -> Global Options....Uncheck boxes modify dropdowns mention saving items upon exit restoring items\nupon startup. ensure RStudio starts fresh session time.","code":""},{"path":"lab-1-september-15.html","id":"console-pane","chapter":"1 Lab 1 â€” September 15","heading":"1.1.2 Console pane","text":"RStudio application opened, Console pane occupy entirety left\nside. (Open image new tab small)code typed Console evaluated immediately upon pressing Enter.\nneed evaluate multi-line code, Shift + Enter used \ncreate line breaks.Console often used evaluate code may part main analyses. \nincludes checking work, testing code, modifying settings, etc.","code":""},{"path":"lab-1-september-15.html","id":"source-pane","chapter":"1 Lab 1 â€” September 15","heading":"1.1.3 Source pane","text":"RStudio application opened, Source pane hidden default. Source\npane modify R scripts type main code analyses. strongly\nrecommended save important code (code may need revisit later\ndate) inside R script file. new R script can created using:File -> New File -> R Script, orCtrl + Shift + N, orClicking  selecting \"R Script\"Source pane appear top left open R script.\n(Open image new tab small)Code typed script file evaluated upon pressing Enter. Code must \nsent Source Console evaluation.run single line code, place typing cursor anywhere line press\nCtrl + Enter.run multiple lines code, highlight desired lines press Ctrl +\nEnter.run entire script start finish, click  .","code":""},{"path":"lab-1-september-15.html","id":"environment-pane","chapter":"1 Lab 1 â€” September 15","heading":"1.1.4 Environment pane","text":"Environment pane top right pane RStudio. pane shows variables \ninitialised current R session. variables current R session can removed\nclicking broom icon. Alternatively, switching Grid view List view allow \nremove selected variables.","code":""},{"path":"lab-1-september-15.html","id":"comments","chapter":"1 Lab 1 â€” September 15","heading":"1.1.5 Comments","text":"Comments can added R script prepending # symbol.","code":""},{"path":"lab-1-september-15.html","id":"variables","chapter":"1 Lab 1 â€” September 15","heading":"1.1.6 Variables","text":"Variables created using convention name <- value.variable successfully initialised, appear Environment pane. \nsimple variables, value variable can seen Environment pane. variables\nwhose values visible Environment pane, values can checked calling\nConsole:using RStudio's built-viewer typing Console:naming variables, try use names already exist R data sets functions. \ncan checked partially typing variable name seeing suggestions come . \nexample, reading data, name variable data since already exists\ndata() function R.","code":"\nvar1 <- 3\nvar1## [1] 3\nView(var1)"},{"path":"lab-1-september-15.html","id":"vectors","chapter":"1 Lab 1 â€” September 15","heading":"1.1.7 Vectors","text":"Vectors univariate data structures. Vectors can created using c() function \nelements separated commas.Note examplevar1 actually vector length 1.calling vectors Console, note numbers square brackets \ncorresponding output represent position number first element line.","code":"\nnums <- c(9, 12, 20)\nwords <- c(\"apple\", \"orange\", \"banana\")\nvar1 <- 3\nvar2 <- 1:30\n\nvar2##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25\n## [26] 26 27 28 29 30"},{"path":"lab-1-september-15.html","id":"extracting-elements","chapter":"1 Lab 1 â€” September 15","heading":"1.1.7.1 Extracting elements","text":"elements vectors can extracted supplying vector positive integers inside square\nbrackets. Note R, indices begin 1.","code":"\nvar2[7]## [1] 7\nvar2[c(2, 7, 9, 11, 20)]## [1]  2  7  9 11 20"},{"path":"lab-1-september-15.html","id":"deleting-elements","chapter":"1 Lab 1 â€” September 15","heading":"1.1.7.2 Deleting elements","text":"elements vectors can deleted supplying vector negative integers placing \nnegative outside vector positive integers, inside square brackets.\nNote R, indices begin 1.","code":"\nvar2[-7]##  [1]  1  2  3  4  5  6  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26\n## [26] 27 28 29 30\nvar2[c(-2, -7, -9, -11, -20)]##  [1]  1  3  4  5  6  8 10 12 13 14 15 16 17 18 19 21 22 23 24 25 26 27 28 29 30\nvar2[-c(2, 7, 9, 11, 20)]##  [1]  1  3  4  5  6  8 10 12 13 14 15 16 17 18 19 21 22 23 24 25 26 27 28 29 30"},{"path":"lab-1-september-15.html","id":"data-frames","chapter":"1 Lab 1 â€” September 15","heading":"1.1.8 Data frames","text":"Data frames multivariate data structures. Data frames can thought vertical\nconcatentation vectors. cases, column data frame contains values \nsingle variable row data frame contains values variable single\nobservation. example, consider following data set:example , column contains values single variable row contains\nvalues variable single observation (patient).Things note:Data frames can created supplying name-value pairs data.frame() function.Name-value pairs supplied using = rather <-.name-value pair must length. Missing values can represented using NA.","code":"\npatients <- data.frame(\n  patient_id = c(\"123abc\", \"28fnr8\", \"02jr8d\", \"r82j45\", \"t90ro5\"),\n  height = c(181, 145, 190, 210, 94),\n  mass = c(85, 72, 82, 90, 60),\n  sex = c(\"M\", \"F\", \"M\", \"F\", \"F\")\n)\n\npatients##   patient_id height mass sex\n## 1     123abc    181   85   M\n## 2     28fnr8    145   72   F\n## 3     02jr8d    190   82   M\n## 4     r82j45    210   90   F\n## 5     t90ro5     94   60   F"},{"path":"lab-1-september-15.html","id":"extracting-columns","chapter":"1 Lab 1 â€” September 15","heading":"1.1.8.1 Extracting columns","text":"Columns data frame can extracted vectors using dollar sign ($).","code":"\npatients$height## [1] 181 145 190 210  94\npatients$sex## [1] \"M\" \"F\" \"M\" \"F\" \"F\""},{"path":"lab-1-september-15.html","id":"extracting-rows-and-subsets","chapter":"1 Lab 1 â€” September 15","heading":"1.1.8.2 Extracting rows and subsets","text":"Thinking data frames matrices, can subsetted supplying row column\npositions/names separated comma within square brackets:","code":"\n# Extract row 3 and all columns\npatients[3, ]##   patient_id height mass sex\n## 3     02jr8d    190   82   M\n# Extract rows 1, 4, and 5, and columns 1 and 3\npatients[c(1, 4, 5), c(1, 3)]##   patient_id mass\n## 1     123abc   85\n## 4     r82j45   90\n## 5     t90ro5   60\n# Extract rows 1, 4, and 5, and columns \"patient_id\" and \"mass\"\npatients[c(1, 4, 5), c(\"patient_id\", \"mass\")]##   patient_id mass\n## 1     123abc   85\n## 4     r82j45   90\n## 5     t90ro5   60\n# Extract everything *except* rows 2 and 3, and columns 2 and 3\npatients[-c(2, 3), -c(2, 3)]##   patient_id sex\n## 1     123abc   M\n## 4     r82j45   F\n## 5     t90ro5   F"},{"path":"lab-1-september-15.html","id":"the-working-directory","chapter":"1 Lab 1 â€” September 15","heading":"1.1.9 The working directory","text":"working directory folder path working . path current\nworking directory can found immediately underneath Console tab heading.opening first instance RStudio using application directly, working directory \nautomatically set \n\"Default working directory (project)\". first\ninstance RStudio opened opening R script file (files ending .R), working directory\nautomatically set folder R script file located.Note opening first instance RStudio, scripts opened \nchange working directory.working directory important keep track reading writing files. sake \norganization, may case following folder structure:dot represents currently (working directory).example , R scripts contained working directory, data output\nfiles folders working directory. , reading files need specify\nread \"data\" folder. Similarly, writing files, need specify\nwritten \"output\" folder.able , need talk file folder paths specify .","code":".\nâ”œâ”€â”€ data\nâ”‚   â””â”€â”€ my_data.txt\nâ”œâ”€â”€ output\nâ”‚   â”œâ”€â”€ output1.txt\nâ”‚   â””â”€â”€ model.RDS\nâ”œâ”€â”€ script1.R\nâ””â”€â”€ script2.R"},{"path":"lab-1-september-15.html","id":"paths","chapter":"1 Lab 1 â€” September 15","heading":"1.1.10 Paths","text":"path string (.e. needs surrounded quotes) describes location file \nfolder device. Paths become extremely important reading writing files R. Paths\ncan broken two categories: absolute relative.","code":""},{"path":"lab-1-september-15.html","id":"absolute-paths","chapter":"1 Lab 1 â€” September 15","heading":"1.1.10.1 Absolute paths","text":"absolute path gives full location file/folder device, irrespective \ncurrent working directory, e.g.use absolute paths creates problems.Suppose Windows include path like \"C:/Users/Adam/Desktop/blah.R\" \nscript. execute code given Windows machine, likely\nwork since name probably Adam blah.R may located Desktop\nlike mine.Suppose Windows include path like \"C:/Users/Adam/Desktop/blah.R\" \nscript. execute code given Windows machine, likely\nwork since name probably Adam blah.R may located Desktop\nlike mine.users Windows, addition folders possibly existing, likely\n\"C drive\".users Windows, addition folders possibly existing, likely\n\"C drive\"., use absolute paths recommended complicates sharing code\ndevices platform-dependent.","code":"\"C:/Users/Adam/Desktop/blah.R\"\n\"/Users/John/Documents/lab1.txt\""},{"path":"lab-1-september-15.html","id":"relative-paths","chapter":"1 Lab 1 â€” September 15","heading":"1.1.10.2 Relative paths","text":"relative path gives partial location file/folder relative working directory.\nAlthough use relative paths still assumes identical partial folder structure, \nassume identical folder structure root path.two helpers specifying relative paths: dot, \".\", double-dot, \"..\". \ndot, \".\", can thought shorthand \"\", current working directory. \ndouble-dot, \"..\", means \"go one level\".Example 1:Suppose working directory \"C:/Users/Adam/Desktop\" structure:Inside script1.R, want read data found my_data.txt. can done using:rather using:Example 2:Suppose working directory \"C:/Users/Adam/Desktop/model\" surrounding folder\nstructure:Inside model.R, want read data found my_data.txt. can done using:rather using:","code":"C:/Users/Adam/Desktop **you are here**\nâ”‚\nâ”œâ”€â”€ my_data.txt\nâ””â”€â”€ script1.R\nmy_data <- read.table(\"my_data.txt\") \n## OR ##\nmy_data <- read.table(\"./my_data.txt\")\nmy_data <- read.table(\"C:/Users/Adam/Desktop/my_data.txt\")C:/Users/Adam/Desktop\nâ”‚\nâ”œâ”€â”€ data\nâ”‚   â””â”€â”€ my_data.txt\nâ”œâ”€â”€ model **you are here**\nâ”‚   â”œâ”€â”€ output1.txt\nâ”‚   â””â”€â”€ model.R\nâ”œâ”€â”€ output\nâ”‚   â”œâ”€â”€ output1.txt\nâ”‚   â””â”€â”€ output2.RDS\nâ””â”€â”€ other.R\nmy_data <- read.table(\"../data/my_data.txt\")\nmy_data <- read.table(\"C:/Users/Adam/Desktop/data/my_data.txt\")"},{"path":"lab-1-september-15.html","id":"reading-in-data","chapter":"1 Lab 1 â€” September 15","heading":"1.1.11 Reading in data","text":"course, () data read .txt file header. \ncode use :instances, may need:","code":"\nmy_data <- read.table(\"path/to/data/file.txt\", header=TRUE)\nmy_data <- read.table(\"path/to/data/file.txt\", header=TRUE, stringsAsFactors=TRUE)"},{"path":"lab-1-september-15.html","id":"accessing-the-built-in-documentation","chapter":"1 Lab 1 â€” September 15","heading":"1.1.12 Accessing the built-in documentation","text":"Prepending function built-data set question mark bring associated\ndocumentation. example, Console, try:","code":"\n?read.table\n?lm\n?rock"},{"path":"lab-1-september-15.html","id":"introduction-to-simple-linear-regression","chapter":"1 Lab 1 â€” September 15","heading":"1.2 Introduction to simple linear regression","text":"Note: content contained following sections aid answering Assignment 1\nQuestion 5.","code":""},{"path":"lab-1-september-15.html","id":"loading-the-data","chapter":"1 Lab 1 â€” September 15","heading":"1.2.1 Loading the data","text":"data set using can found file named table1.1_DS.txt. Since \ntext file header, use read.table() read specify header=TRUE.data contained folder called \"data\" current working directory. path use\nread data depend saved data.can get dimensions data set using functions dim(), nrow(), ncol().can get column names data set using names() function.can preview data read using head() function. head function useful\nespecially larger data sets printing entire data set may desirable. \ndefault, function return first six rows data.can also use RStudio's built-object viewer view full data set. Environment\npane:List view, click row corresponding variable containing data.Grid view, click row corresponding variable containing data \n\"Value\" heading.Alternatively, can use View() function:","code":"\ntable1.1 <- read.table(\"./data/table1.1_DS.txt\", header=TRUE)\ndim(table1.1)## [1] 25  2\nnrow(table1.1)## [1] 25\nncol(table1.1)## [1] 2\nnames(table1.1)## [1] \"y\" \"x\"\nhead(table1.1)##       y    x\n## 1 10.98 35.3\n## 2 11.13 29.7\n## 3 12.51 30.8\n## 4  8.40 58.8\n## 5  9.27 61.4\n## 6  8.73 71.3\nView(table1.1)"},{"path":"lab-1-september-15.html","id":"creating-the-data-manually","chapter":"1 Lab 1 â€” September 15","heading":"1.2.2 Creating the data manually","text":"Assignment 1 Question 5, given data ordered pairs need manually\nenter R. Using first ten observations table1.1 example, can create \ndata frame manually:(continue using full Table 1.1 demonstrations ).","code":"\ntable1.1_manual <- data.frame(\n  y = c(10.98, 11.13, 12.51, 8.40, 9.27, 8.73, 6.36, 8.50, 7.82, 9.14),\n  x = c(35.3, 29.7, 30.8, 58.8, 61.4, 71.3, 74.4, 76.7, 70.7, 57.5)\n)\n\nhead(table1.1_manual)##       y    x\n## 1 10.98 35.3\n## 2 11.13 29.7\n## 3 12.51 30.8\n## 4  8.40 58.8\n## 5  9.27 61.4\n## 6  8.73 71.3"},{"path":"lab-1-september-15.html","id":"fitting-the-slr-model","chapter":"1 Lab 1 â€” September 15","heading":"1.2.3 Fitting the SLR model","text":"Linear regression models fit using lm() function. first need fit model\\[Y_{} \\,=\\, \\beta_{0} \\,+\\, \\beta_{1}X_{} \\,+\\, \\varepsilon_{}, \\quad =1,\\ldots,n\\]order determine whether\\[Y_{} \\,=\\, \\beta_{0} \\,+\\, \\varepsilon_{}, \\quad =1,\\ldots,n\\]appropriate model.code says build linear regression model using y dependent (response)\nvariable, x independent (predictor) variable, variables y x \nfound within table1.1 data variable. Although need specify intercept \nformula specification, linear regression models built lm() include intercept default.","code":"\nslr_model <- lm(y ~ x, data=table1.1)"},{"path":"lab-1-september-15.html","id":"inspecting-the-model","chapter":"1 Lab 1 â€” September 15","heading":"1.2.4 Inspecting the model","text":"can obtain summary linear regression model using summary() function.information , fitted regression line equation:\\[\\widehat{y}_{} \\,=\\, 13.62 \\,-\\, 0.08x_{} \\quad =1,\\ldots,n\\]","code":"\nsummary(slr_model)## \n## Call:\n## lm(formula = y ~ x, data = table1.1)\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -1.6789 -0.5291 -0.1221  0.7988  1.3457 \n## \n## Coefficients:\n##             Estimate Std. Error t value Pr(>|t|)    \n## (Intercept) 13.62299    0.58146  23.429  < 2e-16 ***\n## x           -0.07983    0.01052  -7.586 1.05e-07 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 0.8901 on 23 degrees of freedom\n## Multiple R-squared:  0.7144, Adjusted R-squared:  0.702 \n## F-statistic: 57.54 on 1 and 23 DF,  p-value: 1.055e-07"},{"path":"lab-1-september-15.html","id":"is-an-intercept-only-model-appropriate","chapter":"1 Lab 1 â€” September 15","heading":"1.2.5 Is an intercept-only model appropriate?","text":"determine whether intercept-model appropriate, need test hypotheses:\\[H_{0}: \\beta_{1} \\,=\\, 0, \\quad H_{}: \\beta_{1} \\,\\neq\\, 0\\]value test statistic can read summary table value -7.586 \ncorresponding \\(p\\)-value 1.05e-07. Using significance level \\(\\alpha = 0.05\\), since\n\\(p\\)-value less \\(\\alpha\\), reject null hypothesis conclude \nevidence support claim \\(\\beta_{1}\\) different zero., consider intercept-model.\\(p\\)-value greater \\(\\alpha = 0.05\\) failed reject null\nhypothesis? fit intercept-model?Aside: note (Intercept) row, t-value \\(p\\)-value correspond testing \nhypotheses:\\[H_{0}: \\beta_{0} \\,=\\, 0, \\quad H_{}: \\beta_{0} \\,\\neq\\, 0\\]","code":""},{"path":"lab-1-september-15.html","id":"the-rock-data-set","chapter":"1 Lab 1 â€” September 15","heading":"1.2.6 The rock data set","text":"fit intercept-model, let us consider rock data set built R. data\nset can loaded using:can preview data usual:","code":"\ndata(rock)\nhead(rock)##   area    peri     shape perm\n## 1 4990 2791.90 0.0903296  6.3\n## 2 7002 3892.60 0.1486220  6.3\n## 3 7558 3930.66 0.1833120  6.3\n## 4 7352 3869.32 0.1170630  6.3\n## 5 7943 3948.54 0.1224170 17.1\n## 6 7979 4010.15 0.1670450 17.1"},{"path":"lab-1-september-15.html","id":"fitting-a-slr","chapter":"1 Lab 1 â€” September 15","heading":"1.2.7 Fitting a SLR","text":"create simple linear regression model using area dependent (response) variable \nshape independent (predictor) variable.equation fitted line :\\[\\widehat{y}_{} \\,=\\, 8465 \\,-\\, 5855x_{}, \\quad =1,\\ldots,n\\]Testing hypotheses:\\[H_{0}: \\beta_{1} \\,=\\, 0, \\quad H_{}: \\beta_{1} \\,\\neq\\, 0\\]corresponding \\(p\\)-value 0.215. Using significance level \\(\\alpha = 0.05\\), since \n\\(p\\)-value greater 0.05, fail reject null hypothesis. , insufficient\nevidence support claim \\(\\beta_{1}\\) non-zero.Now fit intercept-model!","code":"\nrock_slr_model <- lm(area ~ shape, data=rock)\n\nsummary(rock_slr_model)## \n## Call:\n## lm(formula = area ~ shape, data = rock)\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -6101.6 -1512.3   104.6  1765.3  5152.9 \n## \n## Coefficients:\n##             Estimate Std. Error t value Pr(>|t|)    \n## (Intercept)     8465       1087   7.788 6.08e-10 ***\n## shape          -5855       4660  -1.256    0.215    \n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 2667 on 46 degrees of freedom\n## Multiple R-squared:  0.03318,    Adjusted R-squared:  0.01216 \n## F-statistic: 1.579 on 1 and 46 DF,  p-value: 0.2153"},{"path":"lab-1-september-15.html","id":"fitting-an-intercept-only-model","chapter":"1 Lab 1 â€” September 15","heading":"1.2.8 Fitting an intercept-only model","text":"One way fitting intercept-model use lm() .dependent (response) variable remains area, right-hand side formula just\n1 indicate intercept.second way fitting intercept-model take advantage fact already\nbuilt simple linear regression model (rock_slr_model) obtain intercept-model \njust need \"remove\" shape variable formula specification. can accomplished\nusing update() function.formula specification , . refers \"everything already \". ,\n. left ~ refers area, . right ~ refers \n1 + shape (1 usually written since linear regression models fit \nintercept default, still exists!). Therefore, code says \nrock_intercept_model \"update\" rock_slr_model modification \nformula now area ~ 1 + shape - shape, resulting area ~ 1. can verify \nfact needed calling:update() function extremely useful start working multiple linear\nregression models variable selection procedures later course sometimes\neasier specify variables want rather ones want.output , equation fitted line :\\[\\widehat{y}_{} \\,=\\, 7187.7, \\quad =1,\\ldots,n\\]","code":"\nrock_intercept_model <- lm(area ~ 1, data=rock)\nrock_intercept_model <- update(rock_slr_model, formula = . ~ . - shape)\nformula(rock_intercept_model)## area ~ 1\nsummary(rock_intercept_model)## \n## Call:\n## lm(formula = area ~ 1, data = rock)\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -6171.7 -1882.5   299.3  1681.8  5024.3 \n## \n## Coefficients:\n##             Estimate Std. Error t value Pr(>|t|)    \n## (Intercept)   7187.7      387.4   18.55   <2e-16 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 2684 on 47 degrees of freedom"},{"path":"lab-1-september-15.html","id":"visualising-the-intercept-only-fit","chapter":"1 Lab 1 â€” September 15","heading":"1.2.9 Visualising the intercept-only fit","text":"can draw scatterplot data area y-axis shape x-axis, \noverlay intercept-fit. drawing lines base-R graphics, recall need sort\nx-values (reorder corresponding y-values)! example, since fitted values\nconstant values shape, need reorder fitted values \ncorresponding shape values â€” shape values need sorted. However, \nsake consistency, sort shape values reorder corresponding fitted values.fitted values intercept-model can obtained wrapping model \nfitted() function.Now, making plot:","code":"\nfitted(rock_intercept_model)##        1        2        3        4        5        6        7        8 \n## 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 \n##        9       10       11       12       13       14       15       16 \n## 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 \n##       17       18       19       20       21       22       23       24 \n## 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 \n##       25       26       27       28       29       30       31       32 \n## 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 \n##       33       34       35       36       37       38       39       40 \n## 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 \n##       41       42       43       44       45       46       47       48 \n## 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729 7187.729\nsorted_shape <- sort(rock$shape)\nordered_fitted <- fitted(rock_intercept_model)[order(rock$shape)]\n\nplot(area ~ shape, data=rock, main=\"Intercept-only model\")\nlines(x=sorted_shape, y=ordered_fitted, col=\"darkred\", lwd=2)"},{"path":"lab-1-september-15.html","id":"visual-diagnostics","chapter":"1 Lab 1 â€” September 15","heading":"1.2.10 Visual diagnostics","text":"","code":""},{"path":"lab-1-september-15.html","id":"the-residual-vs.-predictor-plot","chapter":"1 Lab 1 â€” September 15","heading":"1.2.10.1 The residual vs. predictor plot","text":"identify potential issues intercept-model, can make plot residuals,\n\\(e_{} \\,=\\, Y_{} \\,-\\, \\widehat{Y}_{}\\), predictor values (shape).residual values intercept-model can obtained wrapping model \nresid() function.Now, making plot:assumptions linear regression, discernable patterns/trends \nplotted points. addition, plot look like random scatter \\(y=0\\) constant\nvariance. plot , appear patterns/trends \nplotted points. plot appears random scatter \\(y=0\\) constant variance.","code":"\nresid(rock_intercept_model)##          1          2          3          4          5          6          7 \n## -2197.7292  -185.7292   370.2708   164.2708   755.2708   791.2708  2145.2708 \n##          8          9         10         11         12         13         14 \n##  1021.2708  1205.2708  -762.7292  2176.2708  1436.2708  3463.2708  1680.2708 \n##         15         16         17         18         19         20         21 \n##  2229.2708  1686.2708  3774.2708  3555.2708  4690.2708  2679.2708   650.2708 \n##         22         23         24         25         26         27         28 \n##  4688.2708  5024.2708  1045.2708  -827.7292 -2994.7292   228.2708 -1941.7292 \n##         29         30         31         32         33         34         35 \n##  -678.7292 -2292.7292  -412.7292   706.2708 -1207.7292 -1869.7292   204.2708 \n##         36         37         38         39         40         41         42 \n##   706.2708 -3718.7292 -5719.7292 -3663.7292 -1920.7292 -2139.7292 -6171.7292 \n##         43         44         45         46         47         48 \n## -1582.7292  1605.2708 -3712.7292 -5536.7292 -1673.7292  2530.2708\nplot(\n  resid(rock_intercept_model) ~ shape, data=rock,\n  main=\"Residuals vs Predictor\", xlab=\"shape\", ylab=\"residuals\"\n)"},{"path":"lab-1-september-15.html","id":"the-residual-vs.-fitted-plot","chapter":"1 Lab 1 â€” September 15","heading":"1.2.10.2 The residual vs. fitted plot","text":"identify potential issues intercept-model, can also make plot residuals,\n\\(e_{} \\,=\\, Y_{} \\,-\\, \\widehat{Y}_{}\\), fitted values., discernable patterns/trends plotted points, plot\nlook like random scatter \\(y=0\\) constant variance. plot look bit\nstrange, fitted line constant! residuals appear scattered\n\\(y=0\\) equal variance, seem issues .","code":"\nplot(\n  resid(rock_intercept_model) ~ fitted(rock_intercept_model),\n  main=\"Residuals vs Fitted\", xlab=\"fitted values\", ylab=\"residuals\"\n)"},{"path":"lab-1-september-15.html","id":"normality-of-residuals","chapter":"1 Lab 1 â€” September 15","heading":"1.2.10.3 Normality of residuals","text":"also assumption residuals normally distributed. can checked \ncreating QQ-plot residuals overlaying QQ-line.Strong deviation QQ-line evidence violation normality assumption. \ncase plot, reason believe residuals \nnormally distributed.","code":"\nqqnorm(resid(rock_intercept_model))\nqqline(resid(rock_intercept_model), col=\"darkred\", lwd=2)"},{"path":"lab-3-september-29.html","id":"lab-3-september-29","chapter":"2 Lab 3 â€” September 29","heading":"2 Lab 3 â€” September 29","text":"","code":""},{"path":"lab-3-september-29.html","id":"some-modern-data-science-packages","chapter":"2 Lab 3 â€” September 29","heading":"2.1 Some modern data science packages","text":"Tidyverse collection packages modern data\nscience. Tidymodels another collection packages \nextends tidyverse modelling. labs, \nusing entire tidyverse tidymodels. now, recommend installing \ncomponent packages.tibble, dplyr,\nggplot2, broom. \npackages can installed using:successfully installing packages, can load using:Additionally, ggplot2 comes various plotting themes (examples\ncan found ). \ndefault, plotting background grey prefer white background also call:tibble package provides us usage \"tibbles\" \nextension base-R data frame. many features, mostly using tibbles\npretty-printing features \nfact integrates well packages.dplyr package provides us tools data wrangling \nbase-R equivalents can feel bit clunky. Examples data wrangling include: adding/removing\nobservations based presence/absence one conditions, creating additional variables\ndata set, condensing existing data summaries.ggplot2 package alternative base-R graphics\nfunctions \"smarter\" exist base-R. example, previous\nlab, mentioned plotting lines base-R, points needed sorted left right\nsince lines() function joins points order appear. Without sorting, \nresulting line appear jagged unevenly coloured certain areas. \nggplot2, separate functions joining points \nappear data joining points order left right.broom package contains tools cleaning model output \nextracting model data diagnostic information ready visualisation \nggplot2.","code":"\ninstall.packages(\"tibble\")\ninstall.packages(\"dplyr\")\ninstall.packages(\"ggplot2\")\ninstall.packages(\"broom\")\nlibrary(tibble)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(broom)\ntheme_set(theme_bw())"},{"path":"lab-3-september-29.html","id":"back-to-simple-linear-regression","chapter":"2 Lab 3 â€” September 29","heading":"2.2 Back to simple linear regression","text":"","code":""},{"path":"lab-3-september-29.html","id":"the-mpg-data-set","chapter":"2 Lab 3 â€” September 29","heading":"2.2.1 The mpg data set","text":"Consider fuel economy data set found ggplot2 package.\ncan load data set calling:Suppose interested fitting simple linear regression model highway miles per gallon\n(hwy) response variable city miles per gallon (cty) predictor variable.\nfitting model, check see linear relationship \nchosen variables.","code":"\ndata(mpg, package=\"ggplot2\")"},{"path":"lab-3-september-29.html","id":"check-for-a-linear-relationship","chapter":"2 Lab 3 â€” September 29","heading":"2.2.2 Check for a linear relationship","text":"create plot, use function ggplot.call ggplot can thought initialisation drawing canvasThe first argument ggplot data set, mpgThe second argument ggplot mapping, .e. \"variables contain data \ninterested plotting?\"mapping created supplying names variables found within data set \naesthetics function, aes().Finally, can add (\"plus\" symbol) layer points geom_point() inherit\naesthetics supplied initialisation canvasIn words, specified within geom_point(), points drawn positions\nx=cty y=hwyFrom plot , appears linear relationship two variables. can\nbegin fitting linear model.","code":"\nggplot(mpg, aes(x=cty, y=hwy))+\n  geom_point()"},{"path":"lab-3-september-29.html","id":"fitting-the-linear-model","chapter":"2 Lab 3 â€” September 29","heading":"2.2.3 Fitting the linear model","text":"regression output, \\(\\widehat{\\beta}_{0} = 0.892\\) \n\\(\\widehat{\\beta}_{1} = 1.337\\). equation fitted line :\\[\\widehat{y}_{} \\,=\\, 0.892 \\,+\\, 1.337x_{}\\]can interpret \\(\\widehat{\\beta}_{0} = 0.892\\) mean highway miles per gallon city\nmiles per gallon value zero. However, really make sense context \ndata since car travels zero city miles gallon gas.can interpret \\(\\widehat{\\beta}_{1} = 1.337\\) mean change highway miles per gallon per\nunit increase city miles per gallon. , 1 mpg increase city mpg, expect 1.337\nmpg increase highway mpg.","code":"\nlm_miles <- lm(hwy ~ cty, data=mpg)\n\nsummary(lm_miles)## \n## Call:\n## lm(formula = hwy ~ cty, data = mpg)\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -5.3408 -1.2790  0.0214  1.0338  4.0461 \n## \n## Coefficients:\n##             Estimate Std. Error t value Pr(>|t|)    \n## (Intercept)  0.89204    0.46895   1.902   0.0584 .  \n## cty          1.33746    0.02697  49.585   <2e-16 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 1.752 on 232 degrees of freedom\n## Multiple R-squared:  0.9138, Adjusted R-squared:  0.9134 \n## F-statistic:  2459 on 1 and 232 DF,  p-value: < 2.2e-16"},{"path":"lab-3-september-29.html","id":"visualising-the-fit","chapter":"2 Lab 3 â€” September 29","heading":"2.2.4 Visualising the fit","text":"ggplot2 broom\nshine! first use broom::augment() linear model extract data used fit\nmodel, along additional diagnostics (residuals).first two columns lm_miles_aug, recovered data initially passed\nlm(). .fitted column contains fitted values model .resid column\ncontains raw residuals.plot wish build use newly created lm_miles_aug data set \nfollowing features:base plot scatterplot points located x=cty y=hwyThe fitted line drawn top points located x=cty y=.fittedSince points lines wish draw longer share common y-aesthetic, may \nwant declare y-aesthetic initialisation canvas, instead, declare \ny-aesthetic individual layers.Notice building plot, sort points! default, geom_line()\nconnects points left right. added additional arguments geom_line() outside\naesthetics since values depend data:colour controls colour line (can also use color)lwd controls width line (can also use linewidth)alpha controls transparency lineTo see construction plot \"addition layers\" can runfollowed byfollowed ","code":"\nlm_miles_aug <- augment(lm_miles)\n\nlm_miles_aug## # A tibble: 234 x 8\n##      hwy   cty .fitted .resid    .hat .sigma     .cooksd .std.resid\n##    <int> <int>   <dbl>  <dbl>   <dbl>  <dbl>       <dbl>      <dbl>\n##  1    29    18    25.0 4.03   0.00458   1.74 0.0123          2.31  \n##  2    29    21    29.0 0.0214 0.00834   1.76 0.000000632     0.0123\n##  3    31    20    27.6 3.36   0.00661   1.74 0.0123          1.92  \n##  4    30    21    29.0 1.02   0.00834   1.75 0.00144         0.585 \n##  5    26    16    22.3 3.71   0.00445   1.74 0.0101          2.12  \n##  6    26    18    25.0 1.03   0.00458   1.75 0.000805        0.591 \n##  7    27    18    25.0 2.03   0.00458   1.75 0.00311         1.16  \n##  8    26    18    25.0 1.03   0.00458   1.75 0.000805        0.591 \n##  9    25    16    22.3 2.71   0.00445   1.75 0.00536         1.55  \n## 10    28    20    27.6 0.359  0.00661   1.76 0.000140        0.205 \n## # ... with 224 more rows\n\nggplot(lm_miles_aug, aes(x=cty))+\n  geom_point(aes(y=hwy))+\n  geom_line(aes(y=.fitted), colour=\"#3366FF\", lwd=1.5, alpha=0.6)\nggplot(lm_miles_aug, aes(x=cty))\nggplot(lm_miles_aug, aes(x=cty))+\n  geom_point(aes(y=hwy))\nggplot(lm_miles_aug, aes(x=cty))+\n  geom_point(aes(y=hwy))+\n  geom_line(aes(y=.fitted), colour=\"#3366FF\", lwd=1.5, alpha=0.6)"},{"path":"lab-3-september-29.html","id":"confidence-and-prediction-intervals","chapter":"2 Lab 3 â€” September 29","heading":"2.2.5 Confidence and prediction intervals","text":"","code":""},{"path":"lab-3-september-29.html","id":"confidence-intervals","chapter":"2 Lab 3 â€” September 29","heading":"2.2.5.1 Confidence intervals","text":"Suppose interested finding point estimate 95% confidence interval mean\nhighway miles per gallon vehicles city miles per gallon value 20. can obtain \nvalues using predict() function. specifically, pass lm object \npredict(), actually calls specific predict.lm() function. see need get\npoint estimate confidence interval, pull associated documentation.need supply predict():linear model objectA data frame containing variables common linear model, values upon predict\nNote model predictor variable cty, supply\nnewdata = data.frame(x=20), must supply newdata = data.frame(cty=20)\nNote model predictor variable cty, supply\nnewdata = data.frame(x=20), must supply newdata = data.frame(cty=20)want confidence interval, specify interval = \"confidence\"default confidence level 0.95From output, point estimate 27.641. lower bound 95% confidence interval\n27.360 upper bound 27.922. says 95% confidence, vehicles \ncity miles per gallon value 20, mean highway miles per gallon range 27.360 \n27.922.","code":"\n?predict.lm\npredict(\n  lm_miles,\n  newdata = data.frame(cty=20),\n  interval = \"confidence\"\n)##        fit      lwr      upr\n## 1 27.64115 27.36044 27.92187"},{"path":"lab-3-september-29.html","id":"prediction-intervals","chapter":"2 Lab 3 â€” September 29","heading":"2.2.5.2 Prediction intervals","text":"Suppose now interested finding point estimate 95% prediction interval \nhighway miles per gallon vehicle city miles per gallon 20. can obtain \nvalues manner similar previous example:output, point estimate 27.641. lower bound 95% prediction interval\n24.177 upper bound 31.105. says 95% confidence, vehicle city\nmiles per gallon value 20 highway miles per gallon value 24.177 31.105.","code":"\npredict(\n  lm_miles,\n  newdata = data.frame(cty=20),\n  interval = \"prediction\"\n)##        fit      lwr      upr\n## 1 27.64115 24.17733 31.10498"},{"path":"lab-3-september-29.html","id":"spot-the-differences","chapter":"2 Lab 3 â€” September 29","heading":"2.2.5.3 Spot the differences","text":"point estimates cases identical. However, lower upper bounds \nconfidence prediction intervals different. unsurprising since formulas used \ncompute bounds two intervals different.noted , general, fixed confidence level, prediction interval \nwider corresponding confidence interval.","code":""},{"path":"lab-3-september-29.html","id":"correlations","chapter":"2 Lab 3 â€” September 29","heading":"2.2.6 Correlations","text":"Using previously obtained augmented model data (lm_miles_aug), can easily obtain \ncorrelations \\(X_{}\\) \\(Y_{}\\),\\(Y_{}\\) \\(\\widehat{Y}_{}\\),\\(X_{}\\) \\(\\widehat{Y}_{}\\),compare among , compare model's coefficient determination,\n\\(R^{2}\\). Correlations obtained using cor() function. also use summarise()\nfunction dplyr package help us obtain correlations\nstaying context augmented data can reference variable using bare\nnames (.e. need use $ reference variables).Note also :values mathematically related coincidence? ðŸ˜² (See assignment 2\nquestion 3).","code":"\nsummarise(\n  lm_miles_aug,\n  corr_x_y = cor(cty, hwy),\n  corr_y_fitted = cor(hwy, .fitted),\n  corr_x_fitted = cor(cty, .fitted)\n)## # A tibble: 1 x 3\n##   corr_x_y corr_y_fitted corr_x_fitted\n##      <dbl>         <dbl>         <dbl>\n## 1    0.956         0.956             1\n\nsummarise(\n  lm_miles_aug,\n  corr_x_y_squared = cor(cty, hwy)^2,\n  corr_y_fitted_squared = cor(hwy, .fitted)^2,\n  corr_x_fitted_squared = cor(cty, .fitted)^2,\n  r.squared = summary(lm_miles)$r.squared\n)## # A tibble: 1 x 4\n##   corr_x_y_squared corr_y_fitted_squared corr_x_fitted_squared r.squared\n##              <dbl>                 <dbl>                 <dbl>     <dbl>\n## 1            0.914                 0.914                     1     0.914\n"},{"path":"lab-3-september-29.html","id":"simple-linear-regression-with-transformations","chapter":"2 Lab 3 â€” September 29","heading":"2.3 Simple linear regression with transformations","text":"Talk next time","code":""}]
